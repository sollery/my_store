{% extends '_base.html' %}
{% load static %}
{%block title %}
Список заказов
{% endblock title %}
{% block content %}
<h1 class ="title-page">Список заказов</h1>
    <div class="wrap_table">
                <table class="my_table table-bordered">
                    <tr align="center">
                        <th>Номер</th>
                        <th >Имя</th>
                        <th>Фамилия</th>
                        <th>Почта</th>
                        <th>Адрес</th>
                        <th>Дата</th>
                        <th>Статус оплаты</th>
                        <th>Способ доставки</th>
                        <th>Способ Оплаты</th>
                        <th>Статус</th>
                        <th>Ссылка</th>
                    </tr>
                    {%for order in page_obj%}
                    <tr align="center">
                        <td align="center">
                            <div>
                                {{order.pk}}
                               </div>
                        </td>
                        <td align="center">
                            <div>
                                {{order.first_name}}
                               </div>
                        </td>
                        <td align="center">
                            <div>
                                {{order.last_name}}
                            </div>
                        </td>
                        <td align="center">
                            <div>
                                {{order.email}}
                            </div>
                        </td>
                        <td align="center">
                            <div>
                                {{order.address}}
                            </div>
                        </td>
                        <td>
                            <div align="center">
                                {{order.created}}
                            </div>
                        </td>
                        <td class="bg-{{order.color_status}}">
                            {% if order.paid %}
                            <div>
                                оплачен
                            </div>
                            {%else%}
                            <div>
                                не оплачен
                            </div>
                            {%endif%}
                        </td>
                         <td>
                            <div align="center">
                                {{order.delivery_method.title}}
                            </div>
                        </td>
                         <td>
                            <div align="center">
                                {{order.payment_method.title}}
                            </div>
                        </td>
                        <td>
                            <div align="center">
                                {{order.status}}
                            </div>
                        </td>
                        </td align="center">
                            <td>
                            <div>
                                <a class="message_list_a" href="{{order.get_absolute_url}}">
                                перейти
                                </a>
                               </div>
                        </td>
                    </tr>
                    {%endfor%}
                    </table>
        </div>
                    <nav aria-label="Page navigation example">
                        <ul class="mypagination">
                            {% if page_obj.has_previous %}
                                <li><a class="pag" href="?page=1">Начало</a></li>
                                <li><a href="?page={{ page_obj.previous_page_number }}"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-left-circle-fill" viewBox="0 0 16 16">
                      <path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"/>
                                </svg></a></li>
                            {% endif %}

                            <h5 class="">
                                стр {{ page_obj.number }} из {{ page_obj.paginator.num_pages }}
                            </h5>

                            {% if page_obj.has_next %}
                             <li><a href="?page={{ page_obj.next_page_number }}"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-right-circle-fill" viewBox="0 0 16 16">
                      <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/>
                    </svg></a></li>
                            <li><a class="pag" href="?page={{ page_obj.paginator.num_pages }}">Конец</a></li>
                            {% endif %}
                        </ul>
                    </nav>

{%endblock content%}